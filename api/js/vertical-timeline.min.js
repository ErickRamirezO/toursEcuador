"use strict";/*!
    Title: Vertical-Timeline
    Version: 2.0.0
    Last Change: 04/30/17
    Author: Ryan Fitzgerald
    Repo: https://github.com/RyanFitzgerald/vertical-timeline
    Issues: https://github.com/RyanFitzgerald/vertical-timeline/issues
	LICENSE: MIT
*/
!function(t){
  var i = function(i){
    var e = {
      top: t(window).scrollTop(),
      left: t(window).scrollLeft(),
      right: t(window).scrollLeft() + t(window).width(),
      bottom: t(window).scrollTop() + t(window).height()
    };
    var n = i.offset();
    n.right = n.left + i.outerWidth();
    n.bottom = n.top + i.outerHeight();
    return !(e.right < n.left || e.left > n.right || e.bottom < n.top || e.top > n.bottom);
  };

  t.fn.verticalTimeline = function(e){
    var n = t.extend({
      startLeft: !0,
      alternate: !0,
      animate: !1,
      arrows: !0
    }, e);

    return this.each(function(){
      var e = t(this).children("div");
      t(this).addClass("vtimeline");

      e.each(function(){
        t(this).addClass("vtimeline-content").wrap('<div class="vtimeline-point"><div class="vtimeline-block"></div></div>');
      });

      t(this).find(".vtimeline-point").each(function(){
        t(this).prepend('<div class="vtimeline-icon"></div>');

        if (t(this).find("[data-vticon=true]").length){
          var iconHtml = t(this).find("[data-vticon=true]").html();
          t(this).find(".vtimeline-icon").append(iconHtml);
          t(this).find("[data-vticon=true]").remove();
        }
      });

      if (n.alternate){
        if (n.startLeft){
          t(this).find(".vtimeline-point:odd").each(function(){
            t(this).find(".vtimeline-block").addClass("vtimeline-right");
          });
        } else {
          t(this).find(".vtimeline-point:even").each(function(){
            t(this).find(".vtimeline-block").addClass("vtimeline-right");
          });
        }
      } else {
        t(this).find(".vtimeline-block").addClass("vtimeline-" + (n.startLeft ? "right" : n.startSide));
      }

      if (n.animate){
        t(this).find(".vtimeline-block").each(function(){
          var block = this;
          t(this).addClass("vt-animate-" + n.animate);
          
          t(window).on("scroll", function(){
            if (i(t(block))){
              t(block).removeClass("vt-animate-" + n.animate);
            } else {
              t(block).addClass("vt-animate-" + n.animate);
            }
          });
        });
      }

      t(this).find(".vtimeline-content").each(function(){
        var date = t(this).data("vtdate");
        var side = t(this).data("vtside");
        if (date){
          t(this).parent().prepend('<span class="vtimeline-date">' + date + "</span>");
        }
        if (side){
          t(this).parent().removeClass("vtimeline-right");
          t(this).parent().addClass("vtimeline-" + side);
        }
      });

      if (!n.arrows){
        t(this).find(".vtimeline-block").addClass("vt-noarrows");
      }
    });
  }
}(jQuery);
